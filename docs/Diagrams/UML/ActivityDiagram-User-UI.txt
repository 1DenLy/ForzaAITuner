@startuml
title –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å UI (Client Side)

partition "User (Driver/Tuner)" {
    start
    :–ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è;
}

partition "UI (Interface)" {
    :–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤;
    :–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ì–ª–∞–≤–Ω–æ–≥–æ –û–∫–Ω–∞\n(State: IDLE);
    note right
        –ú–µ–Ω—é –¥–æ—Å—Ç—É–ø–Ω–æ
        –ö–Ω–æ–ø–∫–∞ Start –Ω–µ–∞–∫—Ç–∏–≤–Ω–∞
        (–Ω–µ—Ç –∫–æ–Ω—Ñ–∏–≥–∞)
    end note
}

partition "Configuration Phase" {

    partition "User (Driver/Tuner)" {
        :–í—ã–±–æ—Ä –º–µ–Ω—é "Edit -> Tuning";
        repeat
            :–í–≤–æ–¥ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤\n(–®–∏–Ω—ã, –ü—Ä—É–∂–∏–Ω—ã, –î–∏—Ñ—Ñ);
        repeat while (–ï—Å—Ç—å –µ—â–µ –ø–æ–ª—è?)
        :–ù–∞–∂–∞—Ç–∏–µ "Save / Apply";
    }

    partition "UI (Interface)" {
        :–û—Ç–∫—Ä—ã—Ç—å –¥–∏–∞–ª–æ–≥ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (Modal);
        :–ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è\n/ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Å–µ–π–≤;

        if (–í–≤–æ–¥ –≤–∞–ª–∏–¥–µ–Ω?) then (–î–∞)
            :–û–±–Ω–æ–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –ø–∞–º—è—Ç–∏;
            :–°–Ω—è—Ç—å –ø–æ–¥—Å–≤–µ—Ç–∫—É –æ—à–∏–±–∫–∏;
        else (–ù–µ—Ç)
            :–ü–æ–¥—Å–≤–µ—Ç–∏—Ç—å –ø–æ–ª–µ –∫—Ä–∞—Å–Ω—ã–º;
            :–ü–æ–∫–∞–∑–∞—Ç—å —Ç—É–ª—Ç–∏–ø\n"–î–∏–∞–ø–∞–∑–æ–Ω 0.5 - 5.0";
        endif

        :–ó–∞–∫—Ä—ã—Ç—å –¥–∏–∞–ª–æ–≥;
        :–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É\n"START SESSION";
        :–°—Ç–∞—Ç—É—Å READY\n(Config Loaded);
    }
}

partition "Race Session Phase" {

    partition "User (Driver/Tuner)" {
        :–ù–∞–∂–∞—Ç–∏–µ "START SESSION";
        :–í–æ–∂–¥–µ–Ω–∏–µ (–≤–Ω–µ—à–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å);
        :–ù–∞–∂–∞—Ç–∏–µ "STOP SESSION";
    }

    partition "UI (Interface)" {
        :–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–ª–µ–π –≤–≤–æ–¥–∞;
        :–°—Ç–∞—Ç—É—Å üî¥ REC;
        :–ó–∞–ø—É—Å–∫ —Ç–∞–π–º–µ—Ä–∞ —Å–µ—Å—Å–∏–∏;

        fork
            :–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∞–π–º–µ—Ä–∞\n(UI Thread);
        fork again
            :–ë—É–¥—É—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏;
        end fork

        :–û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–∞–π–º–µ—Ä–∞;
        :–°—Ç–∞—Ç—É—Å SAVING...;
        :–†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–ª–µ–π –≤–≤–æ–¥–∞;
        :IDLE\n(Last: #SessionID);
    }
}

stop
@enduml
